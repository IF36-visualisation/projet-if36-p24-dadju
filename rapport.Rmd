---
title: "Exploration cin√©matographique"
author: "Elo√Øse LAPLANCHE, Laure PENG, Gaudeline Maeva SIMO KAMWA, Belvine YEMDJO YOUMBI"
output:
  prettydoc::html_pretty:
    theme: adapta
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
```

```{r library}
library(ggplot2)
library(tibble)
library(tidyr)
library(lubridate)
library(dplyr)
library(readr)
library(forcats)
library(prettydoc)
```

```{r data}
data <- read_csv("data/movies.csv")
```


# Introduction

üé• Bienvenue dans le projet d'exploration cin√©matographique ! üé•

Une √©tude bas√©e sur la visualisation de donn√©es üìà pour d√©couvrir le dessous des films √† succ√®s ‚≠ê

L'√©quipe üöÄ 

- Elo√Øse LAPLANCHE 

- Laure PENG 

- Gaudeline Maeva SIMO KAMWA 

- Belvine YEMDJO YOUMBI

## Donn√©es

Nous avons choisi d‚Äô√©tudier un dataset regroupant des donn√©es sur les films √† succ√®s. Ce jeu de donn√©es a √©t√© trouv√© sur Kaggle et a √©t√© modifi√© par nos soins pour garder uniquement les features qui nous importent dans cette √©tude. 

Le choix de travailler sur des donn√©es li√©es au monde du cin√©ma r√©sulte de l‚Äôenvie de la part des membres de notre √©quipe de d√©couvrir plus en d√©tail cet univers. Toutes les quatre amatrices de films, ce jeu de donn√©es sera pour nous l‚Äôoccasion de travailler sur un sujet qui nous int√©resse et qui nous intrigue.


- Nombre d‚Äôobservations : 4803

- Nombre de variables : 17

- Source : https://www.kaggle.com/datasets/harshshinde8/movies-csv

- Auteur : Harsh Shinde [üîó](https://www.linkedin.com/in/harshshinde/)

D√©tail des donn√©es : 

| Variable                | Type     | Description                                |
|-------------------------|----------|--------------------------------------------|
| budget                  | `Int`    | Budget global pour r√©aliser le film        |
| genres                  | `String` | Genres associ√©s au film                    |
| keywords                | `String` | Mots-cl√©s repr√©sentant le film             |
| overview                | `String` | Synopsis du film                           |
| popularity              | `Float`  | Popularit√© du film (entre 0 et 876)        |
| production_companies    | `String` | Liste des soci√©t√©s de productions          |
| production_countries    | `String` | Liste des pays de production               |
| release_date            | `Date`   | Date de sortie du film                     |
| revenue                 | `Int`    | Revenus g√©n√©r√©s par le film                |
| runtime                 | `Float`  | Dur√©e du film (en minutes)                 |
| spoken_languages        | `String` | Liste des langues parl√©es dans le film     |
| tagline                 | `String` | ‚ÄúSlogan‚Äù du film                           |
| title                   | `String` | Titre du film                              |
| vote_average            | `Float`  | Moyenne de la note attribu√©e (entre 0 et 10)|
| vote_count              | `Int`    | D√©compte du nombre de votes (entre 0 et 13752)|
| cast                    | `String` | Liste des noms des acteurs du film         |
| director                | `String` | Nom du r√©alisateur du film                 |


On peut relever dans ce dataset plusieurs grands groupes de donn√©es : 

- Les donn√©es de **description du film** (*genres, keywords, overview, tagline, title*)

- Les donn√©es concernant la **r√©alisation du film** (*director, cast, spoken_languages, runtime, release_date, production_countries, production_companies, budget*)

- Les donn√©es sur les **retomb√©es du film** (*popularity, revenue, vote_average, vote_count*)

## Plan d'analyse

Ce dataset √©tant assez riche, nous pouvons √©laborer un plan d‚Äôanalyse selon plusieurs grands axes d‚Äô√©tude :

### Analyse du succ√®s des films

Dans cette partie, on s‚Äôinterrogera sur les facteurs qui pourraient ressortir lorsqu‚Äôun film a du succ√®s. Pour cela, on peut se baser sur nos indicateurs de popularit√© et de note moyenne et les comparer avec d‚Äôautres features comme le genre du film, le r√©alisateur ou le budget. Dans cette partie, il faudra veiller √† bien mettre en regard la note du film avec le nombre de votants, afin de ne pas avoir d'analyse biais√©e par un nombre de votants trop faible sur un film par exemple.

***Attentes :*** On peut supposer que plus le r√©alisateur est connu ou que plus le budget est important, et plus le film sera populaire et obtiendra une bonne note. Nous pensons √©galement que les films d'actions seront sans doute les films avec le plus de succ√®s.

***Exemples de questions :***

**Succ√®s du film :** 

- Quels sont les r√©alisateurs les plus populaires en fonction du genre (ou en fonction du nombre de films r√©alis√©s) ?

- Quel genre de film g√©n√®re le plus de revenus ?

- Est-ce qu‚Äôil y a un lien entre le genre et la popularit√© ?

- Est-ce qu'il y a un lien entre les acteurs et la popularit√© ou la note du film ?
  
**Appr√©ciation du film :**

- Est-ce qu‚Äôil y a un lien entre le budget et la note ?

- Est-ce qu'il y a un lien entre la r√©alisation de plusieurs films du m√™me genre et la note du film ?

- Est ce que la langue originale du film a une influence ?

- Y-a-t-il un lien entre popularit√© et note du film ?


###  Analyse des tendances temporelles
Nous pourrons ici analyser plusieurs features en regard des dates de sortie du film. On pourra ou non constater des √©volutions de genre, de r√©alisateurs ou encore de soci√©t√©s de production en fonction du temps afin de voir si de nouveaux sch√©mas se dessinent. Nos donn√©es vont de 1916 √† 2017, mais nous poss√©dons un nombre de films sup√©rieur √† 100 qu'√† partir de 1993, il faudra donc faire attention lors de l'analyse.

***Attentes :*** On peut supposer que les grosses soci√©t√©s de production perdurent au fil du temps et qu'au contraire, les petites soci√©t√©s laissent place √† d'autres. On pourra aussi v√©rifier s'il existe des pays "√† la mode" sur certaines ann√©es. On s'attend √©galement √† une √©volution du budget des soci√©t√©s dans le temps.

***Exemples de questions :***

- Quels sont les pays qui ont r√©alis√© le plus de films en fonction des ann√©es ?

- Est-ce qu‚Äôil y a une √©volution de la popularit√© des films dans le temps ?

- Est-ce que l'ann√©e de r√©alisation impacte sur le genre du film ?

- Est-ce que le budget a √©volu√© au fil des ann√©es ?

- Est-ce qu‚Äôil y a une √©volution de la dur√©e des films dans le temps ?

- Est-ce que les maisons de production ont vari√© le genre de leurs films au fil du temps ?

### Analyse des mots employ√©s pour d√©crire le film
Ici, on pourrait analyser les features telles que le slogan, le titre, le synopsis et les mots-cl√©s pour trouver des liens et faire ressortir des patterns. On pourra aussi √©valuer si le choix de ces mots a une influence sur l'appr√©ciation ou la note du film. Le traitement de donn√©es textuelles peut √™tre certaines fois d√©licat, il faudra donc veiller √† ce que les techniques de traitement soient appropri√©es et les biais identifi√©s.

***Attentes :*** On pense trouver des mots-cl√©s qui ressortent selon le genre du film. On peut aussi imaginer que selon la compagnie de production ou le r√©alisateur, des mots-cl√©s peuvent √™tre repris dans les films qu'ils produisent, comme une marque de fabrique.

***Exemples de questions :***

- Est-ce qu‚Äôil y a des mots que l‚Äôon retrouve le plus dans le titre selon le genre du film ?

- Quels sont les mots-cl√©s les plus fr√©quents en fonction du genre ?

- Est-ce que certains mots-cl√©s ressortent dans les films de telle ou telle compagnie de production ou pour tel r√©alisateur ? Cela a-t-il un lien avec le pays de production ?

- Est-ce que les mots-cl√©s utilis√©s ont une influence sur l'appr√©ciation ou la note du film ?



# Exploration


### Appr√©ciation du film

Nous allons nous interroger dans un premier temps sur le lien que l'on peut avoir entre la note attribu√©e au film et sa popularit√©.

On s'attend √† ce que plus un film est populaire, et plus sa note moyenne est √©lev√©e. 

Tout d'abord, on effectue une rapide analyse de nos donn√©es pr√©sentes pour ces deux features. Comme il s'agit de variables quantitatives cotinues, on les pr√©sente √† travers un histogramme.

```{r analyse note}
ggplot(data = data, mapping = aes(x = vote_average)) +
  geom_histogram(bins = 30, fill = "#69b3a2") +
  labs(title = "Analyse de la r√©partition des notes moyennes attribu√©es aux films",
       x = "Note moyenne obtenue",
       y = "Nombre d'occurrences") 
```

Nous constatons que les donn√©es semblent coh√©rentes, except√© celles qui ont une note moyenne de 0. En effet, il est difficilement concevable de penser qu'un film jug√©es par plusieurs personnes se voit attribu√© la note moyenne de 0. On peut imaginer, qu'il s'agissait de valeurs manquantes mises √† 0 dans le dataset.
Nous prendrons donc le parti pour la question du lien entre popularit√© et note de retirer les lignes qui ont une note de 0.

```{r analyse popularit√©}
data_filtered_1 <- subset(data, popularity < 150)

ggplot(data = data_filtered_1, mapping = aes(x = popularity)) +
  geom_histogram(bins = 30, fill = "#69b3a2") +
  labs(title = "Analyse de la r√©partition de la popularit√© attribu√©e aux films",
       x = "Popularit√© attribu√©e",
       y = "Nombre d'occurrences")
```


Ici la popularit√© a √©t√© filtr√©e pour ne s√©lectionner que celles inf√©rieures √† 150. En effet, seules 19 valeurs sont au dessus de cette limite que nous nous fixons. La popularit√© moyenne est de `r round(mean(data$popularity[data$popularity < 150]), 1)`.


Pour obtenir un graphique lisible par la suite, nous allons calculer la popularit√© moyenne en fonction de la note moyenne (par intervalle de note de 0.5). La popularit√© moyenne est donc une variable quantitative continue, et apr√®s modification, la note moyenne devient une variable qualitative ordonn√©e.

Comme on souhaite comparer ces deux √©l√©ments, on r√©alisera un diagramme en barres.

```{r comparaison_note_popularite}

intervalles <- seq(0, 10, by = 0.5)

data_grouped <- data %>%
  filter(popularity < 150, vote_average != 0) %>%
  group_by(vote_intervalle = cut(vote_average, breaks = intervalles, right = FALSE)) %>%
  summarize(mean_popularity = mean(popularity))

ggplot(data = data_grouped, aes(x = vote_intervalle, y = mean_popularity)) +
  geom_bar(stat = "identity", fill = "skyblue", width = 0.8) +
   scale_x_discrete(labels = paste0(intervalles, " - ", intervalles + 0.5)) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))+
  labs(x = "Note moyenne", y = "Popularit√© moyenne", 
       title = "Popularit√© moyenne en fonction de la note moyenne")
```

**Analyse**

Les r√©sultats obtenus sont conformes avec ce que l'on attendait. En effet, on constate que plus la note est √©lev√©e, et plus la popularit√© augmente. 

En revanche, on voit que pour les notes tr√®s √©lev√©es (8,5+), la popularit√© est proche de 0, ce qui ne semble pas normal de prime abord. Cependant, si l'on recoupe ce graphique avec celui montrant la distribution des notes, on constate que tr√®s peu de r√©ponses sont enregistr√©es pour les intervalles de 0 √† 2,5 et 8,5 √† 10. Ceci explique que la popularit√© moyenne attribu√©e soit aussi basse. Pour r√©soudre ce probl√®me, il faudrait pouvoir collecter plus de donn√©es sur les films qui obtiennent une excellente note (ce qui est par ailleurs rare).
